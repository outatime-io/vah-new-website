<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex, nofollow" />
  <title>Produktionen – Vorhang auf, Holzwickede! e.V.</title>
  <meta name="description" content="Alle Produktionen von Vorhang auf, Holzwickede! e.V. – chronologisch nach Jahren mit Plakaten und kurzen Infos." />
  <meta name="color-scheme" content="dark light" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Produktionen – Vorhang auf, Holzwickede! e.V." />
  <meta property="og:description" content="Durchstöbere alle Produktionen nach Jahr sortiert." />
  <meta property="og:url" content="https://vorhang-auf-holzwickede.de/page/produktionen" />
  <meta property="og:image" content="https://vorhang-auf-holzwickede.de/assets/favicon.png" />
  <link rel="icon" href="https://vorhang-auf-holzwickede.de/assets/favicon.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --ring: 3px solid rgba(250,204,21,.55) }
    :focus-visible { outline: var(--ring); outline-offset: 2px }
    .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden }
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important }
    }
  </style>
</head>
<body class="antialiased text-white bg-neutral-950 min-h-screen flex flex-col">
  <a href="#main" class="sr-only focus:not-sr-only focus:fixed top-3 left-3 z-50 bg-amber-400 text-black rounded px-3 py-2">Zum Inhalt springen</a>

  <!-- Header / Nav -->
  <header class="sticky top-0 z-50">
    <div class="bg-white/10 backdrop-blur">
      <div class="max-w-7xl mx-auto px-6 md:px-8 h-16 flex items-center justify-between">
        <a href="index.html" class="flex items-center gap-3" aria-label="Startseite">
          <img src="https://vorhang-auf-holzwickede.de/assets/favicon.png" alt="Vorhang auf, Holzwickede! e.V. Logo" class="h-8 md:h-10 w-auto" />
          <span class="sr-only">Vorhang auf, Holzwickede! e.V.</span>
        </a>
        <nav class="hidden md:flex items-center gap-8" aria-label="Hauptnavigation">
          <a class="hover:underline" href="about.html">Über Uns</a>
          <a class="hover:underline" href="termine.html">Termine</a>
          <a class="hover:underline" href="musical-academy.html">Musical-Academy</a>
          <a class="hover:underline" href="termine.html">Termine</a>
          <a class="hover:underline" href="production_overview.html" aria-current="page">Produktionen</a>
          <a class="hover:underline" href="support.html">Unterstützen</a>
          <a class="hover:underline" href="member.html">Mitglied werden</a>
          <a class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide shadow-sm border transition bg-transparent text-white/90 border-white/20 hover:bg-white/10" href="https://4c28c4b7.sibforms.com/serve/MUIEAMUiOUAlOynvVUQ7c_rTIwca2N6hSbYO2SqXM4_TrpKBUcBMlsee8MPWbYik94uDBdrV3gsiyP_opBUhD90revfDXbZzw4Z97aoR2g5PXntT4a_KKaxWc1m_iW_2IGJPYiKlW56clloRHHHalL01qPXVQ3yTcppBIpKjJYjhcN7G_kZPSqCyI81CFhwmTnq1BRqCUNrURaUq" rel="noopener noreferrer">Newsletter</a>
          <a class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide shadow-sm border transition bg-amber-400 text-black border-amber-400 hover:bg-amber-300" href="https://pretix.eu/Vorhang-auf-Holzwickede/" rel="noopener noreferrer">Ticketshop</a>
        </nav>
        <button id="menuBtn" class="md:hidden inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide shadow-sm border transition bg-white text-black border-white hover:opacity-90" aria-expanded="false" aria-controls="mobileMenu" aria-label="Menü öffnen">Menü</button>
      </div>
    </div>
    <nav id="mobileMenu" hidden class="md:hidden bg-white/10 backdrop-blur" aria-label="Mobile Navigation">
      <div class="max-w-7xl mx-auto px-6 md:px-8 py-3 grid gap-2">
        <a class="py-2" href="about.html">Über Uns</a>
        <a class="py-2" href="termine.html">Termine</a>
        <a class="py-2" href="musical-academy.html">Musical-Academy</a>
        <a class="py-2" href="termine.html">Termine</a>
        <a class="py-2" href="production_overview.html" aria-current="page">Produktionen</a>
        <a class="py-2" href="support.html">Unterstützen</a>
        <a class="py-2" href="member.html">Mitglied werden</a>
        <div class="flex gap-2 pt-2">
          <a class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide shadow-sm border transition bg-transparent text-white/90 border-white/20 hover:bg-white/10 flex-1" href="https://4c28c4b7.sibforms.com/serve/MUIEAMUiOUAlOynvVUQ7c_rTIwca2N6hSbYO2SqXM4_TrpKBUcBMlsee8MPWbYik94uDBdrV3gsiyP_opBUhD90revfDXbZzw4Z97aoR2g5PXntT4a_KKaxWc1m_iW_2IGJPYiKlW56clloRHHHalL01qPXVQ3yTcppBIpKjJYjhcN7G_kZPSqCyI81CFhwmTnq1BRqCUNrURaUq" rel="noopener noreferrer">Newsletter</a>
          <a class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide shadow-sm border transition bg-amber-400 text-black border-amber-400 hover:bg-amber-300 flex-1" href="https://pretix.eu/Vorhang-auf-Holzwickede/" rel="noopener noreferrer">Ticketshop</a>
        </div>
      </div>
    </nav>
  </header>

  <main id="main" class="flex-1">
    <!-- Hero -->
    <section class="relative isolate overflow-hidden bg-gradient-to-b from-neutral-900/70 via-neutral-950 to-black">
      <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
        <div class="absolute inset-x-0 top-0 h-40 bg-gradient-to-b from-amber-500/25 to-transparent"></div>
      </div>
      <div class="relative z-10 max-w-7xl mx-auto px-6 md:px-8 pt-6 md:pt-8 pb-16 md:pb-20">
        <nav class="text-sm text-white/70" aria-label="Breadcrumb">
          <ol class="flex items-center gap-2">
            <li><a class="underline" href="index.html">Startseite</a></li>
            <li aria-hidden="true">/</li>
            <li><a class="underline text-white" href="production_overview.html" aria-current="page">Produktionen</a></li>
          </ol>
        </nav>
        <h1 class="mt-8 text-3xl md:text-5xl font-extrabold tracking-tight">Alle Shows im Überblick</h1>
      </div>
    </section>

    <!-- Production list -->
    <section class="py-5 md:py-5 bg-neutral-950">
      <div class="max-w-7xl mx-auto px-6 md:px-8">
        <div id="productionList" class="mt-10 space-y-10" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-neutral-900 border-t border-white/5">
    <div class="max-w-7xl mx-auto px-6 md:px-8 py-12">
      <div class="grid md:grid-cols-3 gap-10">
        <div>
          <img src="https://vorhang-auf-holzwickede.de/assets/favicon.png" alt="Vorhang auf, Holzwickede! e.V. Logo" class="h-12 w-auto" />
          <p class="mt-4 text-white/70 text-sm leading-relaxed">Schauspiel, Tanz und Gesang – wir bringen Musicals auf die Bühne in Holzwickede und Umgebung.</p>
        </div>
        <div>
          <h3 class="font-semibold text-lg">Kontakt</h3>
          <ul class="mt-3 space-y-2 text-sm text-white/80">
            <li><a class="underline" href="mailto:info@vorhang-auf-holzwickede.de">info@vorhang-auf-holzwickede.de</a></li>
            <li><a class="underline" href="https://www.facebook.com/VorhangAufHolzwickede/" target="_blank" rel="noopener">Facebook</a></li>
            <li><a class="underline" href="https://www.instagram.com/vorhang_auf_holzwickede_e.v/" target="_blank" rel="noopener">Instagram</a></li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold text-lg">Rechtliches</h3>
          <ul class="mt-3 space-y-2 text-sm text-white/80">
            <li><a class="underline" href="https://vorhang-auf-holzwickede.de/page/impressum">Impressum</a></li>
            <li><a class="underline" href="https://vorhang-auf-holzwickede.de/page/datenschutz">Datenschutz</a></li>
            <li><a class="underline" href="https://vorhang-auf-holzwickede.de/page/downloads">Downloads</a></li>
          </ul>
        </div>
      </div>
      <div class="mt-6 text-xs text-white/60">
        <span class="uppercase tracking-wider text-white/60">Versionen:</span>
        <a class="underline hover:text-white" href="production_overview.html">Standard</a>
        <span aria-hidden="true"> · </span>
        <a class="underline hover:text-white" href="sponsor-demo/production_overview.html">Sponsoren‑Demo</a>
      </div>
      <div class="mt-4 text-xs text-white/60">© 2025 Vorhang Auf, Holzwickede! e.V.</div>
    </div>
  </footer>

  <template id="productionCardTemplate">
    <article class="bg-white/10 backdrop-blur rounded-3xl p-8 flex gap-6 items-start min-h-[260px] h-full">
      <div class="flex-1 flex flex-col">
        <h3 class="text-xl font-semibold leading-tight"></h3>
        <p class="mt-1 text-sm text-white/70" data-premiere></p>
        <p class="mt-3 text-sm text-white/80 leading-relaxed line-clamp-3" data-description></p>
        <p class="mt-2 text-sm text-white/70" data-location></p>
        <div class="mt-auto pt-6 flex flex-wrap gap-3" data-actions>
          <a class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide border shadow-sm transition bg-transparent text-white/90 border-white/20 hover:bg-white/10" href="production_detail.html">Details</a>
          <button type="button" aria-disabled="true" class="inline-flex items-center justify-center rounded-2xl px-5 py-3 font-semibold tracking-wide border shadow-sm transition bg-amber-400 text-black border-amber-400 hover:bg-amber-300 cursor-not-allowed">Ticketshop</button>
        </div>
      </div>
      <div class="w-32 md:w-40 h-36 md:h-48 flex-shrink-0 overflow-hidden">
        <img class="w-full h-full object-cover rounded-xl shadow-xl shadow-black/40" alt="Poster" loading="lazy" />
      </div>
    </article>
  </template>

  <script>
    const normalizeTermineLinks = () => {
      const containers = document.querySelectorAll('[aria-label="Hauptnavigation"], #mobileMenu');
      containers.forEach(container => {
        const termineLinks = Array.from(container.querySelectorAll('a[href$="termine.html"]'));
        if (!termineLinks.length) return;

        const primary = termineLinks[0];
        termineLinks.slice(1).forEach(link => link.remove());

        const aboutLink = container.querySelector('a[href$="about.html"]');
        if (aboutLink && aboutLink.nextElementSibling !== primary) {
          aboutLink.insertAdjacentElement('afterend', primary);
        }
      });
    };

    normalizeTermineLinks();

    const btn = document.getElementById('menuBtn');
    const menu = document.getElementById('mobileMenu');
    btn?.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!expanded));
      if (menu) {
        if (menu.hasAttribute('hidden')) menu.removeAttribute('hidden'); else menu.setAttribute('hidden', '');
      }
    });

    const EXAMPLE_PRODUCTIONS = [
      {
        title: '9 to 5',
        description: 'Das Musical mit Musik und Texten von Dolly Parton – Eine mitreißende Geschichte über Freundschaft, Stärke und weibliche Solidarität.',
        year: 2026,
        poster: 'https://vorhang-auf-holzwickede.de/storage/production_poster/QonUhtoPkY6hwUMAjZFYkGHCfzFDBd07HhngE57m.png',
        premiere: '23. Mai 2026',
        location: 'Rausinger Halle, Holzwickede & Stadthalle Unna',
        detail_url: 'production_detail_9_to_5.html'
      },
      {
        title: 'Gastspiel – John & Jen',
        description: 'Ein intimes Zwei-Personen-Musical von Andrew Lippa & Tom Greenwald.',
        year: 2025,
        poster: 'https://vorhang-auf-holzwickede.de/storage/production_poster/1JohnJen_Lippa_Greenwald_Story.jpg',
        premiere: '08. Februar 2025',
        location: 'Forum Holzwickede',
        detail_url: 'production_detail.html'
      },
      {
        title: 'Der kleine Tag',
        description: 'Familienmusical über einen besonderen Tag voller kleiner Wunder.',
        year: 2025,
        poster: 'https://vorhang-auf-holzwickede.de/storage/production_poster/DER%20KLEINE%20TAG.png',
        premiere: '29. März 2025',
        location: 'Forum Holzwickede',
        detail_url: 'production_detail_kleiner_tag.html'
      },
      {
        title: 'Musicalgala 2024',
        description: 'Ein Gala-Abend mit Highlights aus aktuellen und vergangenen Produktionen.',
        year: 2024,
        poster: 'https://vorhang-auf-holzwickede.de/storage/production_poster/Plakat_Musicalgala_2024_v01.jpg',
        premiere: '23. November 2024',
        location: 'Forum Holzwickede'
      }
    ];
    const productionList = document.getElementById('productionList');
    const metaInfo = document.getElementById('productionMeta');
    const cardTemplate = document.getElementById('productionCardTemplate');

    const parseYear = (value) => {
      if (!value) return null;
      if (typeof value === 'number') return value;
      const text = String(value);
      const yearMatch = text.match(/(20\d{2}|19\d{2})/);
      if (yearMatch) return Number(yearMatch[1]);
      const date = new Date(text);
      return Number.isFinite(date.getFullYear()) ? date.getFullYear() : null;
    };

    const normalizeProduction = (item) => {
      const title = item?.title || item?.name || 'Unbenannte Produktion';
      const description = item?.subtitle || item?.tagline || item?.short_description || item?.description || 'Keine Beschreibung verfügbar.';
      const year = parseYear(item?.year ?? item?.premiere_date ?? item?.premiere ?? item?.date ?? item?.created_at);
      const poster = item?.poster_url || item?.poster || item?.image_url || item?.image || item?.cover || '';
      const location = item?.location || item?.city || item?.venue;
      const premiere = item?.premiere_date || item?.premiere || item?.date;
      const detail_url = item?.detail_url || item?.details_url || '';
      return { title, description, year, poster, location, premiere, detail_url };
    };

    const buildCard = (production) => {
      const clone = cardTemplate.content.cloneNode(true);
      const img = clone.querySelector('img');
      if (production.poster) {
        img.src = production.poster;
        img.alt = `Poster: ${production.title}`;
      } else {
        img.src = 'https://vorhang-auf-holzwickede.de/assets/favicon.png';
        img.alt = 'Poster Platzhalter';
      }

      clone.querySelector('h3').textContent = production.title;
      const premiereEl = clone.querySelector('[data-premiere]');
      premiereEl.textContent = production.premiere ? `Premiere ${production.premiere}` : '';
      clone.querySelector('[data-description]').textContent = production.description;

      const locationEl = clone.querySelector('[data-location]');
      if (production.location) {
        locationEl.textContent = production.location;
      } else {
        locationEl.remove();
      }

      const actions = clone.querySelector('[data-actions]');
      const detailsLink = actions.querySelector('a');
      detailsLink.href = production.detail_url || 'production_detail.html';
      if (!production.premiere) detailsLink.textContent = 'Ansehen';
      return clone;
    };

    const renderProductions = (data) => {
      productionList.innerHTML = '';

      const normalized = data.map(normalizeProduction);
      const byYear = normalized.reduce((acc, item) => {
        const key = item.year ?? 'Ohne Jahr';
        (acc[key] = acc[key] || []).push(item);
        return acc;
      }, {});

      const years = Object.keys(byYear).sort((a, b) => {
        if (a === 'Ohne Jahr') return 1;
        if (b === 'Ohne Jahr') return -1;
        return Number(b) - Number(a);
      });

      years.forEach((year) => {
        const section = document.createElement('div');
        section.className = 'space-y-4';
        const heading = document.createElement('h3');
        heading.className = 'text-xl md:text-2xl font-semibold';
        heading.textContent = year;
        section.appendChild(heading);

        const grid = document.createElement('div');
        grid.className = 'grid md:grid-cols-2 gap-6 items-stretch';
        byYear[year].forEach((item) => grid.appendChild(buildCard(item)));
        section.appendChild(grid);

        productionList.appendChild(section);
      });

      metaInfo.textContent = `${normalized.length} Produktionen geladen`;
    };

    renderProductions(EXAMPLE_PRODUCTIONS);
  </script>
</body>
</html>
